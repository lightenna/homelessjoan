
    <!-- load ascetic bundle of all app scripts (css at top) -->
    {% javascripts '@AppBundle/Resources/public/js/*' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <!-- load bootstrap after others (needs jquery) -->
    {% javascripts '@bootstrap_js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <!-- write environment data into page -->
    <script type="text/javascript">
        window.uncompt_jsenv = {
            channelName: "{{ channelName }}",
            appKey: "{{ appKey }}",
            trackEvent: function() {}
        };
    </script>
    <!-- when the page is ready, execute the common and app-specific js -->
    <script src="/chrome/js/loader.js"></script>
    {% if live %}
    <!-- write Google Analytics urchin into page -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-25142278-16', 'auto');
        ga('send', 'pageview');
        window.uncompt_jsenv.trackEvent = function() {
            // build GA event out of arguments list
            var eventargs = Array.prototype.slice.call(arguments);;
            eventargs.unshift('event');
            eventargs.unshift('send');
            // equivalent to ga('send', 'event', args...)
            ga.apply(this, eventargs);
            // build GA virtual URL out of arguments
            var virtualargs = Array.prototype.slice.call(arguments);
            ga('send', 'pageview', '/virtualurl/' + virtualargs.join('/'));
        };
    </script>
    {% else %}
    <!-- non-live environment, so no Google Analytics urchin -->
    {% endif %}
</body>
</html>
